
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2014-02-17
 Rendered using Maven Reflow Skin 1.0.0 (http://andriusvelykis.github.com/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>Features | mapdb</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />
 
		<link href="http://netdna.bootstrapcdn.com/bootswatch/2.2.2/spruce/bootstrap.min.css" rel="stylesheet" />
		<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="http://andriusvelykis.github.com/reflow-maven-skin//css/bootswatch.css" rel="stylesheet" />
		<link href="http://andriusvelykis.github.com/reflow-maven-skin//css/reflow-skin.css" rel="stylesheet" />
		
		<link href="http://yandex.st/highlightjs/7.3/styles/github.min.css" rel="stylesheet" />
		
		<link href="http://andriusvelykis.github.com/reflow-maven-skin//css/lightbox.css" rel="stylesheet" />
		
		<link href="http://andriusvelykis.github.com/reflow-maven-skin//css/site.css" rel="stylesheet" />
		<link href="http://andriusvelykis.github.com/reflow-maven-skin//css/print.css" rel="stylesheet" media="print" />
		
		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		
<style type="text/css">body,h1,h2,h3,h4,h5,h6,code,pre,input,button,select,textarea,.navbar-search,.navbar-search .search-query,h1 small,h2 small,h3 small,h4 small,h5 small,h6 small,.muted,.navbar .brand,.navbar .brand:hover,.navbar .nav li a,.navbar .navbar-text,.navbar .dropdown-menu li a, div.subnav, div.subnav .nav li a,.btn,legend,.alert-heading{
                font-family:Arial, sans-serif;
                }

                @media (max-width:979px){.navbar .nav-collapse .nav li a .navbar .nav-collapse .nav li a:hover, .navbar-inverse .nav-collapse .nav li a:hover, .nav-collapse .navbar-form,.nav-collapse .navbar-search}{
                font-family:Arial, sans-serif;
                }</style>
		<!-- Google Analytics -->
		<script type="text/javascript">
		
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-42074659-1']);
			_gaq.push(['_trackPageview']);

			(function() {
				var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();

		</script>
		</head>

	<body class="page-features project-mapdb" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="./"><img src="images/logo.png" border="0" alt="MapDB"/> - java beyond heap</a>
					<div class="nav-collapse">
						<ul class="nav pull-right">
							<li class="dropdown active">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">MapDB <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="index.html" title="Index">Index </a></li>
									<li><a href="http://www.github.com/jankotek/mapdb" title="Github" class="externalLink">Github </a></li>
									<li class="active"><a href="" title="Features">Features </a></li>
									<li><a href="changelog.html" title="Changelog">Changelog </a></li>
									<li><a href="credits.html" title="Credits">Credits </a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">FAQ <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="faq-general.html" title="General">General </a></li>
									<li><a href="faq-problems.html" title="Problems">Problems </a></li>
									<li><a href="faq-performance.html" title="Performance">Performance </a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="02-getting-started.html" title="Getting started">Getting started </a></li>
									<li><a href="http://www.youtube.com/watch?v=FdZmyEHcWLI" title="Overview Video" class="externalLink">Overview Video </a></li>
									<li><a href="https://github.com/jankotek/MapDB/tree/master/src/test/java/examples" title="Examples" class="externalLink">Examples </a></li>
									<li><a href="apidocs/index.html" title="JavaDoc">JavaDoc </a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Support <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="http://groups.google.com/group/mapdb" title="Mail list" class="externalLink">Mail list </a></li>
									<li><a href="https://github.com/jankotek/MapDB/issues" title="Bug tracker" class="externalLink">Bug tracker </a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>
		
	<div class="container">
	
	<!-- Masthead
	================================================== -->
		<hr class="toc-separator" />
		<div id="toc-bar" class="navbar">
			<div class="navbar-inner">
				<div id="toc-scroll-target" class="container">
					<ul id="toc" class="nav">
						<li class="toplevel"><a href="#features" title="Features">Features</a></li>
						<li class="toplevel"><a href="#Highlights" title="Highlights">Highlights</a></li>
						<li class="dropdown">
							<a href="#Caching" title="Caching" class="dropdown-toggle" role="button" data-toggle="dropdown" data-target="#">Caching <b class="caret"></b></a>
							<ul class="dropdown-menu" role="menu">
								<!-- Repeat the item, otherwise it is not clickable as the dropdown root -->
								<li><a href="#Caching" title="Caching">Caching</a></li>
								<li class="divider"></li>
								<li><a href="#HashTable_instance_cache" title="HashTable instance cache">HashTable instance cache</a></li>
								<li><a href="#LRU_instance_cache" title="LRU instance cache">LRU instance cache</a></li>
								<li><a href="#Weak_reference_instance_cache" title="Weak reference instance cache">Weak reference instance cache</a></li>
								<li><a href="#Soft_reference_instance_cache" title="Soft reference instance cache">Soft reference instance cache</a></li>
								<li><a href="#Hard_reference_instance_cache" title="Hard reference instance cache">Hard reference instance cache</a></li>

							</ul>
						</li>
						<li class="dropdown">
							<a href="#Serialization" title="Serialization" class="dropdown-toggle" role="button" data-toggle="dropdown" data-target="#">Serialization <b class="caret"></b></a>
							<ul class="dropdown-menu" role="menu">
								<!-- Repeat the item, otherwise it is not clickable as the dropdown root -->
								<li><a href="#Serialization" title="Serialization">Serialization</a></li>
								<li class="divider"></li>
								<li><a href="#Hand_Coded_Serializers" title="Hand Coded Serializers">Hand Coded Serializers</a></li>
								<li><a href="#Generic_POJO_serialization" title="Generic POJO serialization">Generic POJO serialization</a></li>
								<li><a href="#Asynchronous_Writes" title="Asynchronous Writes">Asynchronous Writes</a></li>

							</ul>
						</li>
						<li class="dropdown">
							<a href="#Other_features" title="Other features" class="dropdown-toggle" role="button" data-toggle="dropdown" data-target="#">Other features <b class="caret"></b></a>
							<ul class="dropdown-menu" role="menu">
								<!-- Repeat the item, otherwise it is not clickable as the dropdown root -->
								<li><a href="#Other_features" title="Other features">Other features</a></li>
								<li class="divider"></li>
								<li><a href="#Transparent_compression" title="Transparent compression">Transparent compression</a></li>
								<li><a href="#Transparent_encryption" title="Transparent encryption">Transparent encryption</a></li>

							</ul>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span12">
			<div class="body-content">
<div class="page-header">
 <h1 id="features">Features</h1>
</div> 
<p>Most DBs engines juggle with byte arrays and leave serialization and caching to user. MapDB goes much further and it integrates instance cache, serialization and storage into single library. This seamless integration is necessary to achieve best user experience. In most cases MapDB ‘just works’.</p> 
<p>Tight integration also allows many performance optimization tricks. MapDB blurs difference between POJO (Plain Old Java Object) and storage records. So MapDB collections can have comparable performance to their Java Collections Framework counterparts.</p> 
<div class="section"> 
 <h2 id="Highlights">Highlights</h2> 
 <ul> 
  <li> <p>Drop-in replacement for ConcurrentTreeMap and ConcurrentHashMap.</p></li> 
  <li> <p>Outstanding performance comparable to low-level native DBs (TokyoCabinet, LevelDB)</p></li> 
  <li> <p>Scales well on multi-core CPUs (fine grained locks, concurrent trees)</p></li> 
  <li> <p>Very easy configuration using builder class</p></li> 
  <li> <p>Space-efficient transparent serialization.</p></li> 
  <li> <p>Instance cache to minimise deserialization overhead</p></li> 
  <li> <p>Various write modes (transactional journal, direct, async or append) to match various requirements.</p></li> 
  <li> <p>ACID transactions with full MVCC isolation</p></li> 
  <li> <p>Very fast snapshots</p></li> 
  <li> <p>Very flexible; works equally well on an Android phone and a supercomputer with multi-terabyte storage.</p></li> 
  <li> <p>Modular &amp; extensible design; most features (compression, cache, async writes) are just <tt>Engine</tt> wrappers. Introducing new functionality (such as network replication) is very easy.</p></li> 
  <li> <p>Highly embeddable; 200 KB no-deps jar (50KB packed), pure java, low memory &amp; CPU overhead.</p></li> 
  <li> <p>Transparent encryption, compression, checksums and other optional stuff.</p></li> 
 </ul> 
</div> 
<div class="section"> 
 <h2 id="Caching">Caching</h2> 
 <p>MapDB provides instance cache to minimize deserialization overhead. Instance cache is tightly integrated with storage engine and is one of the reasons why MapDB is so fast.</p> 
 <p>MapDB does not use fixed size disk pages. It also does not have settings like page size or disk cache. To cache binary data read from disk MapDB relies on operating system. MapDB performance strongly depends on operating system selection and we recommend using Linux with latest JVM for best performance</p> 
 <div class="section"> 
  <h3 id="HashTable_instance_cache">HashTable instance cache</h3> 
  <p>This is fixed size random removal cache. It has very small overhead and is very fast. It uses fixed size hash table and entries are removed randomly on hash collisions. Is activated by default with size 32768.</p> 
 </div> 
 <div class="section"> 
  <h3 id="LRU_instance_cache">LRU instance cache</h3> 
  <p>Fixed size cache with Least Recently Used entry removal. It uses Cleanup daemon thread. Has larger overhead compared to HashTable, but will have better results object deserialization is expensive. Is activated by <a class="externalLink" href="http://www.mapdb.org/apidocs/org/mapdb/DBMaker.html#cacheLRUEnable">DBMaker.cacheLRUEnable()</a></p> 
 </div> 
 <div class="section"> 
  <h3 id="Weak_reference_instance_cache">Weak reference instance cache</h3> 
  <p>Unbounded instance cache with entries removed after GC collection. It uses Weak reference so cache entry can be Garbage Collected when no longer referenced. It uses Cleanup daemon thread. Is activated by <a class="externalLink" href="http://www.mapdb.org/apidocs/org/mapdb/DBMaker.html#cacheWeakRefEnable()">DBMaker.cacheWeakRefEnable()</a></p> 
 </div> 
 <div class="section"> 
  <h3 id="Soft_reference_instance_cache">Soft reference instance cache</h3> 
  <p>Unbounded instance cache with entries removed after GC collection. It uses Soft reference so entry cache entry can be Garbage Collected when no longer referenced. It uses Cleanup daemon thread. Is activated by <a class="externalLink" href="http://www.mapdb.org/apidocs/org/mapdb/DBMaker.html#cacheSoftRefEnable()">DBMaker.cacheSoftRefEnable()</a></p> 
 </div> 
 <div class="section"> 
  <h3 id="Hard_reference_instance_cache">Hard reference instance cache</h3> 
  <p>Unbounded instance cache with all entries removed when heap memory runs low. All cache entries are stored in HashMap with hard reference. To prevent OutOfMemoryError free heap memory is monitored, when it runs bellow 25% all entries are removed from cache. This cache is often faster than Soft/Weak Cache, it requires much less Garbage Collections. Use this cache if you have large heap and want maximal performance. Is activated by <a class="externalLink" href="http://www.mapdb.org/apidocs/org/mapdb/DBMaker.html#cacheHardRefEnable()">DBMaker.cacheHardRefEnable()</a></p> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Serialization">Serialization</h2> 
 <p>MapDB has its own space efficient serialization tightly optimized for minimal CPU overhead. In many cases it outperforms specialized serialization frameworks such as Kryo or Protobufs.</p> 
 <p>MapDB serialization tries to mimic Standard Java Serialization behavior. So you may use Serializable marker interface, customize binary format with Externalizable methods and so on.</p> 
 <p>MapDB serialization framework is completely transparent and activated by default. In most cases you wont even realize it is there. But for best performance you may also bypass it and use custom binary format by implementing <a class="externalLink" href="http://www.mapdb.org/apidocs/org/mapdb/Serializer.html">Serializer</a>.</p> 
 <div class="section"> 
  <h3 id="Hand_Coded_Serializers">Hand Coded Serializers</h3> 
  <p>MapDB hand coded serializers for most classes in <tt>java.lang</tt> and <tt>java.util</tt> packages. Custom serializers have maximal space efficiency and very low CPU overhead. For example:</p> 
  <ul> 
   <li> <p><tt>j.l.Date</tt> requires only 9 bytes: 1-byte-long serialization header and 8-byte-long timestamp.</p></li> 
   <li> <p>For <tt>true</tt>, <tt>String(&quot;&quot;)</tt> or <tt>Long(3)</tt> MapDB writes only single-byte serialization header.</p></li> 
   <li> <p>For array list and other collections MapDB writes serialization header, packed size and than data itself.</p></li> 
  </ul> 
 </div> 
 <div class="section"> 
  <h3 id="Generic_POJO_serialization">Generic POJO serialization</h3> 
  <p>For other classes MapDB uses generic POJO serialization. It traverses and serializes object graph, handling stuff like forward/backward references in process. MapDB stores class structure (names, fields types) on centralized space, this greatly reduces space overhead with larger number of records. For example take following class:</p> 
  <div class="source"> 
   <pre> class Person{ int age = 40; String nickname = &quot;Agent Smith&quot;; }
</pre> 
  </div> 
  <p>Standard Java Serialization stores this class in 104 bytes with many redundant information such as field names:</p> 
  <div class="source"> 
   <pre>  __srorg.apache.jdbm.geecon.Person O IageL __ __ nicknametLjava/lang/String;xp(tAgent Smith
</pre> 
  </div> 
  <p>MapDB serialization stores this record with only 15 bytes!</p> 
 </div> 
 <div class="section"> 
  <h3 id="Asynchronous_Writes">Asynchronous Writes</h3> 
  <p>MapDB performs serialization and storage modifications in background thread. This behaviour is fully ACID compliant by default. Thanks to Async Writes MapDB has high performance and low latency even under high load. There is number of configuration option to fine-tune Async Writes for your usage pattern.</p> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Other_features">Other features</h2> 
 <p>MapDB has many other small features which would not fit on this page. You may find more by reading <a class="externalLink" href="http://www.mapdb.org/apidocs/org/mapdb/DBMaker.html">DBMaker documentation</a> or MapDB source codes.</p> 
 <div class="section"> 
  <h3 id="Transparent_compression">Transparent compression</h3> 
  <p>MapDB supports transparent compression using <a class="externalLink" href="http://oldhome.schmorp.de/marc/liblzf.html">LZF compressor</a>. It is very fast compression with typical rates around 40%. It is tightly optimized in does not require much internal copying and object allocations. It can be enabled by <a class="externalLink" href="http://www.mapdb.org/apidocs/org/mapdb/DBMaker.html#compressionEnable()">DBMaker.compressionEnable()</a></p> 
 </div> 
 <div class="section"> 
  <h3 id="Transparent_encryption">Transparent encryption</h3> 
  <p>MapDB allows storage encryption using <a class="externalLink" href="http://en.wikipedia.org/wiki/XTEA">XTea algorithm</a>. It is fast and sound algorithm with 256bit keys. It is highly optimized for MapDB to minimize internal copying. Other encryption algorithms can be used with some extra coding. Encryption can be enabled by <a class="externalLink" href="http://www.mapdb.org/apidocs/org/mapdb/DBMaker.html#encryptionEnable(java.lang.String)">DBMaker.encryptionEnable(String password)</a></p> 
 </div> 
</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->
	
	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">MapDB</li>
						<li>
							<a href="index.html" title="Index">Index </a>
						</li>
						<li>
							<a href="http://www.github.com/jankotek/mapdb" title="Github" class="externalLink">Github </a>
						</li>
						<li class="active">
							<a href="#" title="Features">Features </a>
						</li>
						<li>
							<a href="changelog.html" title="Changelog">Changelog </a>
						</li>
						<li>
							<a href="credits.html" title="Credits">Credits </a>
						</li>
					</ul>
				</div>
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">FAQ</li>
						<li>
							<a href="faq-general.html" title="General">General </a>
						</li>
						<li>
							<a href="faq-problems.html" title="Problems">Problems </a>
						</li>
						<li>
							<a href="faq-performance.html" title="Performance">Performance </a>
						</li>
					</ul>
				</div>
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Documentation</li>
						<li>
							<a href="02-getting-started.html" title="Getting started">Getting started </a>
						</li>
						<li>
							<a href="http://www.youtube.com/watch?v=FdZmyEHcWLI" title="Overview Video" class="externalLink">Overview Video </a>
						</li>
						<li>
							<a href="https://github.com/jankotek/MapDB/tree/master/src/test/java/examples" title="Examples" class="externalLink">Examples </a>
						</li>
						<li>
							<a href="apidocs/index.html" title="JavaDoc">JavaDoc </a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Support</li>
						<li>
							<a href="http://groups.google.com/group/mapdb" title="Mail list" class="externalLink">Mail list </a>
						</li>
						<li>
							<a href="https://github.com/jankotek/MapDB/issues" title="Bug tracker" class="externalLink">Bug tracker </a>
						</li>
						<li class="nav-header">Author</li>
						<li>
							<a href="http://www.kotek.net/" title="Blog" class="externalLink">Blog </a>
						</li>
						<li>
							<a href="http://www.twitter.com/jankotek" title="Twitter" class="externalLink">Twitter </a>
						</li>
						<li>
							<a href="mailto:jan@kotek.net" title="Email" class="externalLink">Email </a>
						</li>
						<li>
							<a href="http://www.kotek.net" title="About" class="externalLink">About </a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-description">
					<blockquote><span class="color-highlight">MapDB</span> provides concurrent Maps, Sets and Queues backed by disk storage or off-heap memory.
It is a fast and easy to use embedded Java database engine. And it is completely free under Apache License.
MapDB is free as speech and free as beer under <a href="https://github.com/jankotek/MapDB/blob/master/license.txt">Apache License 2.0</a>.</blockquote>
				</div>
			</div>
		</div>
	</footer>
		
	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2014. All Rights Reserved.</p>
				<p class="version-date"><span class="projectVersion">Version: 0.9.10-SNAPSHOT. </span><span class="publishDate">Last Published: 2014-02-17. </span></p>
				<p><a href="http://github.com/andriusvelykis/reflow-maven-skin" title="Reflow Maven skin">Reflow Maven skin</a> by <a href="http://andrius.velykis.lt" target="_blank" title="Andrius Velykis">Andrius Velykis</a>.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->

	<!-- Fallback jQuery loading from Google CDN:
	     http://stackoverflow.com/questions/1014203/best-way-to-use-googles-hosted-jquery-but-fall-back-to-my-hosted-library-on-go -->
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
	<script type="text/javascript">
		if (typeof jQuery == 'undefined')
		{
			document.write(unescape("%3Cscript src='http://andriusvelykis.github.com/reflow-maven-skin//js/jquery-1.8.3.min.js' type='text/javascript'%3E%3C/script%3E"));
		}
	</script>
	
	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/js/bootstrap.min.js"></script>
	<script src="http://andriusvelykis.github.com/reflow-maven-skin//js/lightbox.js"></script>
	<script src="http://andriusvelykis.github.com/reflow-maven-skin//js/jquery.smooth-scroll.min.js"></script>
	<!-- back button support for smooth scroll -->
	<script src="http://andriusvelykis.github.com/reflow-maven-skin//js/jquery.ba-bbq.min.js"></script>
	<script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>

	<script src="http://andriusvelykis.github.com/reflow-maven-skin//js/reflow-skin.js"></script>
	
	</body>
</html>
